# AR_Pervouralsk_Android
–î–æ–ø–æ–ª–Ω–µ–Ω–Ω–∞—è —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ GPS. ARCore, Unity <!-- –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è -->
<!--–ë–ª–æ–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –≤ –±–µ–π–¥–∂–∞—Ö-->
[![Unity](https://img.shields.io/badge/Unity-6000.0.23+-black?style=flat&logo=unity)](https://unity.com/)
[![AR Foundation](https://img.shields.io/badge/AR%20Foundation-6.1.0-blue?style=flat&logo=unity)](https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@6.1/manual/index.html)
[![Platform](https://img.shields.io/badge/Platform-Android-green?style=flat&logo=android)](https://developer.android.com/)
[![License](https://img.shields.io/badge/License-MIT-yellow?style=flat)](https://opensource.org/licenses/MIT)
![Made With Love](https://img.shields.io/badge/Made%20With%20Love%20by%20Cheloveki%20team-FF69B4?style=flat)
![C#](https://img.shields.io/badge/C%23-239120?style=flat-square&logo=c-sharp&logoColor=white)


![Logotype](https://github.com/user-attachments/assets/7e47ccd1-32b3-4c86-b8cb-4b610275da83)

<!--–£—Å—Ç–∞–Ω–æ–≤–∫–∞-->
## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç?


–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
–£ –≤–∞—Å –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã Unity Hub + Unity 6000.0.X –¶–µ–ª–µ–≤–∞—è –≤–µ—Ä—Å–∏—è 6000.0.23.f1

C–∫–∞—á–∞—Ç—å: https://unityhub://6000.0.23f1/1c4764c07fb4

–ü–∞–∫–µ—Ç—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–µ–∫—Ç–∞.

–£—Å—Ç–∞–Ω–æ–≤–∫–∞:

1.   –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

(—á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É) 
```git clone https://github.com/LubninEgor/AR_Pervouralsk_Android.git```
			
   (–∏–ª–∏ —á–µ—Ä–µ–∑ —Å–∞–π—Ç GutHub https://github.com/LubninEgor/AR_Pervouralsk_Android)
		
   (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω GitHub Desktop): ```https://github.com/LubninEgor/AR_Pervouralsk_Android --> –∑–µ–ª–µ–Ω–∞—è –∫–Ω–æ–ø–∫–∞ "<>Code" --> "open with GitHub Desktop" ```
			
   (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω GitHub Desktop): ```https://github.com/LubninEgor/AR_Pervouralsk_Android --> –∑–µ–ª–µ–Ω–∞—è –∫–Ω–æ–ø–∫–∞ "<>Code" --> "Download ZIP"```
			
2.   –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Unity (Unity Hub --> Add --> Add project from dick --> –≤—ã–±—Ä–∞—Ç—å –ø–∞–ø–∫—É —Å –ø—Ä–æ–µ–∫—Ç–æ–º)
	
3.   –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Unity
		
4.   –í—ã–±–µ—Ä–∏—Ç–µ —Ü–µ–ª–µ–≤—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É (Android) –≤ Build Settings
		
5.  –°–¥–µ–ª–∞–π—Ç–µ Build
	
‚ùó‚ùó‚ùó‚ùó‚ùó –ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –Ω–∞ —Å–º–∞—Ä—Ç—Ñ–æ–Ω –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–∫—É —Ç–∏–ø–∞ "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ", —Ç–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ SDK –≤ Unity:
	
PlayerSettings --> Player --> OtherSettings --> identification --> Target API level (–∑–∞–º–µ–Ω–∏—Ç—å Automatic –Ω–∞ Android 9/10) --> —Å–¥–µ–ª–∞–π—Ç–µ Build (–∂–¥–∏—Ç–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ PowerShell)

<!--–û –ø—Ä–æ–µ–∫—Ç–µ-->
## üìå –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏


 - –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ü–µ–ª–µ–≤—ã—Ö –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç, –≤—ã—Å—á–∏—Ç—ã–≤–∞–Ω–∏–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –¥–æ –æ–±—ä–µ–∫—Ç–∞ (–∏—Å—Ç–æ—Ä–æ–∏—á–µ—Å–∫–æ–≥–æ –∑–¥–∞–Ω–∏—è) (—á–µ—Ä–µ–∑ AR –∏ GPS).

 - –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ (–í —Ä–µ–∂–∏–º–µ –±–µ–∑ GPS –º–æ–∂–Ω–æ –≤—Ä–∞—â–∞—Ç—å, –ø–µ—Ä–µ–º–µ—â–∞—Ç—å, –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã).

 - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Android (–í Uinty —Å—Ç–æ–∏—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è Android 9. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–æ—Å—å –Ω–∞ android 10).
 
 - –î–æ–±–∞–≤–ª–µ–Ω–æ 3 —Ä–µ–∂–∏–º–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤:
	
	1) **–° AR –∏ GPS** ```(–û–±—ä–µ–∫—Ç—ã –ø—Ä–∏–≤—è–∑—ã–≤–∞—é—Ç—Å—è –∫ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º, –∞ –∑–∞—Ç–µ–º –∫ AR.(–ó–∞—á–∞—Å—Ç—É—é –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç–∞—Ä—ã—Ö –∏–ª–∏ –±—é—Ç–∂–µ—Ç–Ω—ã—Ö —Å–º–∞—Ä—Ç—Ñ–æ–Ω–∞—Ö. –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —Å–º.
–Ω–∞ —Å–µ–π—Ç–µ``` https://developers.google.com/ar/devices?hl=ru ```–î–ª—è —Ç–∞–∫–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –ø–æ–¥–æ–π–¥–µ—Ç —Ä–µ–∂–∏–º –Ω–æ–º–µ—Ä 3))```
	
	3) **–° AR, –Ω–æ –±–µ–∑ GPS** ```(–û–±—ä–µ–∫—Ç—ã –ø—Ä–∏–≤—è–∑—ã–≤–∞—é—Ç—Å—è –∫ –ø–ª–æ—Å–∫–æ—Å—Ç—è–º –≤ AR.(–¢–∞–∫ –∂–µ –∫–∞–∫ –∏ –≤ —Ä–µ–∂–∏–º–µ –Ω–æ–º–µ 1: –∑–∞—á–∞—Å—Ç—É—é –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç–∞—Ä—ã—Ö –∏–ª–∏ –±—é—Ç–∂–µ—Ç–Ω—ã—Ö —Å–º–∞—Ä—Ç—Ñ–æ–Ω–∞—Ö.
–≠—Ç–æ—Ç —Ä–µ–∂–∏–º —Å–¥–µ–ª–∞–Ω –¥–ª—è –¥–µ–º–æ –∏–ª–∏ –ø—Ä–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ—Å–µ—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–µ –º–µ—Å—Ç–æ)```
	
	4) **–ë–µ–∑ AR –∏ –±–µ–∑ GPS** ```(–ò–¥–µ–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º –¥–ª—è —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤. –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π 3–¥ –º–æ–¥–µ–ª—å —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ä–µ—Å—Å–º–æ—Ç—Ä–µ—Ç—å –µ–µ —Å–æ –≤—Å–µ—Ö —Å—Ç–æ—Ä–æ–Ω)```

## üì° –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –∏ AR (–∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç??)
–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç GPS –∏ –∫–æ–º–ø–∞—Å –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –º–∏—Ä–µ:
- **–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç**: –ß–µ—Ä–µ–∑ `UnityEngine.LocationService`.
- **–†–∞—Å—á—ë—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è**: –ê–ª–≥–æ—Ä–∏—Ç–º Haversine –¥–ª—è –º–µ—Ç—Ä–∏—á–µ—Å–∫–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏.
- **–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ AR-–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ**: –ü–µ—Ä–µ—Å—á—ë—Ç —Ä–∞–∑–Ω–∏—Ü—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤ –º–µ—Ç—Ä—ã –ø–æ –æ—Å—è–º X/Z.
  
**–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞**

1Ô∏è‚É£ –ü–æ–ª—É—á–µ–Ω–∏–µ GPS-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
// –ó–∞–ø—É—Å–∫ —Å–ª—É–∂–±—ã GPS —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é 1 –º–µ—Ç—Ä

```csharp

IEnumerator InitializeGPS()
{
    Input.location.Start(1f, 1f); 
    while (Input.location.status == LocationServiceStatus.Initializing && Time.time < 20)
    {
        yield return null; // –û–∂–∏–¥–∞–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (–º–∞–∫—Å. 20 —Å–µ–∫—É–Ω–¥)
    }

    if (Input.location.status == LocationServiceStatus.Failed)
    {
        Debug.LogError("–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã GPS.");
    }
    else
    {
        gpsInitialized = true;
        Debug.Log($"GPS –Ω–∞—á–∞–ª—Å—è. –¢–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è: {Input.location.lastData.latitude}, {Input.location.lastData.longitude}");
    }
}
```

2Ô∏è‚É£ –†–∞—Å—á—ë—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –¥–æ —Ü–µ–ª–∏ (–≤ –º–µ—Ç—Ä–∞—Ö)
–§–æ—Ä–º—É–ª–∞ Haversine –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ —Ä–∞—Å—á—ë—Ç–∞:

```csharp

// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –≤ –º–µ—Ç—Ä–∞—Ö –º–µ–∂–¥—É –¥–≤—É–º—è —Ç–æ—á–∫–∞–º–∏ –Ω–∞ –ó–µ–º–ª–µ
float CalculateDistanceToTarget(double lat1, double lon1, double lat2, double lon2)
{
    float R = 6371f; // –†–∞–¥–∏—É—Å –ó–µ–º–ª–∏ –≤ –∫–º
    float dLat = (float)(lat2 - lat1) * Mathf.Deg2Rad;
    float dLon = (float)(lon2 - lon1) * Mathf.Deg2Rad;
    float a = Mathf.Sin(dLat / 2) * Mathf.Sin(dLat / 2) + 
              Mathf.Cos((float)lat1 * Mathf.Deg2Rad) * 
              Mathf.Cos((float)lat2 * Mathf.Deg2Rad) * 
              Mathf.Sin(dLon / 2) * Mathf.Sin(dLon / 2);
    float c = 2 * Mathf.Atan2(Mathf.Sqrt(a), Mathf.Sqrt(1 - a));
    return R * c * 1000f; // –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ –º–µ—Ç—Ä—ã
}
```


3Ô∏è‚É£ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è GPS ‚Üí AR-–ø–æ–∑–∏—Ü–∏—è
–ü–µ—Ä–µ–≤–æ–¥ —Ä–∞–∑–Ω–∏—Ü—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤ –º–µ—Ç—Ä—ã –¥–ª—è Unity:

```csharp
// –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Ä–∞–∑–Ω–∏—Ü—É —à–∏—Ä–æ—Ç—ã/–¥–æ–ª–≥–æ—Ç—ã –≤ Vector3 (XZ-–ø–ª–æ—Å–∫–æ—Å—Ç—å)
Vector3 GetARPositionFromGPS(double targetLat, double targetLon)
{
    double currentLat = Input.location.lastData.latitude;
    double currentLon = Input.location.lastData.longitude;

    // 1 –≥—Ä–∞–¥—É—Å —à–∏—Ä–æ—Ç—ã ‚âà 111319.488 –º
    double zOffset = (targetLat - currentLat) * 111319.488;

    // –î–æ–ª–≥–æ—Ç–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —à–∏—Ä–æ—Ç—ã (–∫–æ—Ä—Ä–µ–∫—Ü–∏—è —á–µ—Ä–µ–∑ –∫–æ—Å–∏–Ω—É—Å)
    double xOffset = (targetLon - currentLon) * 111319.488 * Mathf.Cos((float)currentLat * Mathf.Deg2Rad);

    return new Vector3((float)xOffset, 0, (float)zOffset);
}
```
<!--–ª–∏—Ü–µ–Ω–∑–∏—è-->
## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Å–≤–æ–¥–æ–±–Ω—ã–π, –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –∞–≤—Ç–æ—Ä–æ–≤ : https://t.me/Prpr11 –∏ https://t.me/Lybnineg, –∞ —Ç–∞–∫ –∂–µ —Å—ã–ª–∫–∏ –Ω–∞ –¥–∞–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤ GitHub 


<!--–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ-->
## üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç—ã/–í–∏–¥–µ–æ


![Slide 16_9 - 21](https://github.com/user-attachments/assets/fa99dfad-63f2-45ff-894f-52e2e7a68d8a)
![Slide 16_9 - 26](https://github.com/user-attachments/assets/daef870e-e2b0-4e2d-85e0-2e094627633e)
![Slide 16_9 - 29](https://github.com/user-attachments/assets/c15095fd-2e0a-4e9c-ae94-eea4a0f50f9e)
![Slide 16_9 - 24](https://github.com/user-attachments/assets/b33d3bc4-f93c-4839-bba0-065df5c686bf)
![Slide 16_9 - 25](https://github.com/user-attachments/assets/e1eec980-614b-44c4-a0b7-16872c0975f1)
![Slide 16_9 - 26-1](https://github.com/user-attachments/assets/6a635bce-6031-470d-a8dc-d9b65938003b)
![Slide 16_9 - 27](https://github.com/user-attachments/assets/c4214076-184e-415f-beeb-b914342baf3d)
![Slide 16_9 - 28](https://github.com/user-attachments/assets/3ba97cd1-bd3f-4a86-8d3a-2d7d1871f6fd)
